(this["webpackJsonpfe-news"]=this["webpackJsonpfe-news"]||[]).push([[0],{33:function(t,e,n){t.exports=n(63)},38:function(t,e,n){},6:function(t,e,n){var a=n(46);e.getAllArticles=function(t){return a.get("https://alex-be-nc-news.herokuapp.com/api/articles",{params:t}).then((function(t){return t.data.articles}))},e.getAllTopics=function(){return a.get("https://alex-be-nc-news.herokuapp.com/api/topics").then((function(t){return t.data.topics}))},e.getAllUsers=function(){return a.get("https://alex-be-nc-news.herokuapp.com/api/users").then((function(t){console.log(t)}))},e.getArticleById=function(t){return a.get("https://alex-be-nc-news.herokuapp.com/api/articles/".concat(t)).then((function(t){return t.data.article}))},e.getCommentsByArticleId=function(t){return a.get("https://alex-be-nc-news.herokuapp.com/api/articles/".concat(t,"/comments")).then((function(t){return t.data.comments}))},e.postCommentByArticleId=function(t,e,n){return a.post("https://alex-be-nc-news.herokuapp.com/api/articles/".concat(t,"/comments"),{username:e,body:n}).then((function(t){return t.data.comment}))},e.deleteCommentById=function(t){return a.delete("https://alex-be-nc-news.herokuapp.com/api/comments/".concat(t))},e.getUserByUsername=function(t){return a.get("https://alex-be-nc-news.herokuapp.com/api/users/".concat(t)).then((function(t){console.log(t)}))},e.patchById=function(t,e,n){return a.patch("https://alex-be-nc-news.herokuapp.com/api/".concat(t,"/").concat(e),{inc_votes:n}).then((function(t){console.log(t)}))}},63:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),i=(n(38),n(1)),l=n(2),s=n(4),u=n(3),m=n(5),p=n(11),d=n(8),h=n(9);function f(){var t=Object(d.a)(["\n  margin: 1vh 3vw;\n  height: 8vh;\n  width: 8vh;\n  background-color: black;\n  color: white;\n  text-decoration: none;\n  border-radius: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return t},t}function b(){var t=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr;\n"]);return b=function(){return t},t}function v(){var t=Object(d.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr;\n  align-items: center;\n  justify-content: center;\n"]);return v=function(){return t},t}function y(){var t=Object(d.a)(["\n  padding: 2vw;\n  min-height: 20vh;\n  overflow: auto;\n  background-color: whitesmoke;\n  color: black;\n  text-decoration: none;\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n  text-align: left;\n"]);return y=function(){return t},t}function g(){var t=Object(d.a)(["\n  text-decoration: none;\n  color: whitesmoke;\n"]);return g=function(){return t},t}function E(){var t=Object(d.a)(["\n  margin: 1vh 0vw;\n  min-height: 150vh;\n  overflow: auto;\n  background-color: orange;\n  color: black;\n  text-decoration: none;\n  border-radius: 10px;\n"]);return E=function(){return t},t}var O=h.a.section(E()),j=Object(h.a)(p.a)(g()),k=h.a.section(y()),C=h.a.section(v()),w=h.a.section(b()),_=h.a.div(f()),x=n(6);function A(){var t=Object(d.a)(["\n  background-color: grey;\n  color: white;\n  text-decoration: none;\n  display: grid;\n  /* display: flex;\n  justify-content: space-around; */\n  border-bottom-left-radius: 10px;\n  border-bottom-right-radius: 10px;\n"]);return A=function(){return t},t}function S(){var t=Object(d.a)(["\n  background-color: black;\n  color: white;\n  text-decoration: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  border-radius: 10px;\n"]);return S=function(){return t},t}function B(){var t=Object(d.a)(["\n  text-decoration: none;\n  color: whitesmoke;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]);return B=function(){return t},t}var D=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={isClicked:!1,topics:[{slug:void 0}]},n.componentDidMount=function(){x.getAllTopics().then((function(t){n.setState({topics:t})}))},n.handleClick=function(){n.setState((function(t){return{isClicked:!t.isClicked}}))},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(M,null,"HEADER BAR",r.a.createElement("div",{onClick:this.handleClick},"Menu"),this.state.isClicked&&r.a.createElement(T,null,r.a.createElement(j,{to:"/"},"HOME"),r.a.createElement("p",null,"TOPICS"),r.a.createElement(I,null,this.state.topics.map((function(t){return r.a.createElement(j,{key:t.slug,to:"/articles/".concat(t.slug)},t.slug)}))),r.a.createElement(j,{to:"/"},"USERS")))}}]),e}(a.Component),I=h.a.p(B()),M=h.a.section(S()),T=h.a.div(A()),V=D,U=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={article:{}},n.componentDidMount=function(){},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(k,null,r.a.createElement("h2",null," ",this.props.article.title),r.a.createElement(C,null,r.a.createElement("p",null,"Topic: ",this.props.article.topic," ",r.a.createElement("br",null),"Author: ",this.props.article.author," ",r.a.createElement("br",null),"Votes: ",this.props.article.votes),r.a.createElement(w,null,r.a.createElement(_,null,this.props.article.votes),r.a.createElement(_,null,this.props.article.comment_count))))}}]),e}(a.Component),N=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={articles:[],sort_by:"created_at"},n.componentDidMount=function(){var t={topic:n.props.topic_slug,sort_by:n.state.sort_by};x.getAllArticles(t).then((function(t){n.setState({articles:t})}))},n.componentDidUpdate=function(t,e){if(e.sort_by!==n.state.sort_by||t.topic_slug!==n.props.topic_slug){var a={topic:n.props.topic_slug,sort_by:n.state.sort_by};x.getAllArticles(a).then((function(t){n.setState({articles:t})}))}},n.handleChange=function(t){var e=t.target.value;n.setState({sort_by:e})},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(O,null,r.a.createElement("form",{onChange:this.handleChange},r.a.createElement("label",null,"Order By:",r.a.createElement("select",{id:"",name:"",form:""},r.a.createElement("option",{value:"created_at"},"Date Created"),r.a.createElement("option",{value:"comment_count"},"Comment Count"),r.a.createElement("option",{value:"votes"},"Votes")))),this.state.articles.map((function(t){return r.a.createElement(j,{key:t.article_id,to:"/article/".concat(t.article_id,"/")},r.a.createElement(U,{key:t.article_id,article:t}))})))}}]),e}(a.Component),R=n(30),P=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={optimisticVotes:0},n.handleClick=function(t){x.patchById(n.props.type,n.props.id,t),n.setState((function(e){return{optimisticVotes:e.optimisticVotes+t}}))},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("section",null,r.a.createElement("button",{disabled:this.state.optimisticVotes>0,onClick:function(){t.handleClick(1)}},"UPVOTE"),r.a.createElement("p",null,this.props.votes+this.state.optimisticVotes),r.a.createElement("button",{disabled:this.state.optimisticVotes<0,onClick:function(){t.handleClick(-1)}},"DOWNVOTE"))}}]),e}(a.Component);function W(){var t=Object(d.a)(["\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n"]);return W=function(){return t},t}var L=h.a.p(W()),G=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={article:{},user:"tickle122",isDeleted:!1},n.componentDidMount=function(){},n.handleClick=function(){n.props.comment.author===n.state.user?(x.deleteCommentById(n.props.comment.comment_id),n.setState({isDeleted:!0})):console.log("WRONG USER")},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return!0===this.state.isDeleted?r.a.createElement(k,null," Comment Deleted "):r.a.createElement(k,null,r.a.createElement("h3",null,this.props.comment.author),r.a.createElement(C,null,r.a.createElement("p",null,this.props.comment.body),r.a.createElement(L,null,r.a.createElement(P,{type:"comments",votes:this.props.comment.votes,id:this.props.comment.comment_id}))),r.a.createElement("button",{onClick:this.handleClick},"DELETE"))}}]),e}(a.Component),H=n(32),J=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={comment:{author:"tickle122",article_id:n.props.article_id,body:""}},n.handleChange=function(t){var e=t.target.value;n.setState((function(t){return t.comment.body=e,{currentState:t}}))},n.handleSubmit=function(t){t.preventDefault(),x.postCommentByArticleId(n.props.article_id,n.state.comment.author,n.state.comment.body).then((function(t){n.props.addComment(t)})),n.setState((function(t){var e=Object(H.a)({},t.comment);return e.body="",{comment:e}}))},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},r.a.createElement("label",null,"POST A COMMENT:",r.a.createElement("input",{type:"text",value:this.state.comment.body}),r.a.createElement("button",null,"Post"))))}}]),e}(a.Component),$=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).state={article:{},comments:[{}]},n.componentDidMount=function(){var t=[x.getArticleById(n.props.article_id),x.getCommentsByArticleId(n.props.article_id)];Promise.all(t).then((function(t){n.setState({article:t[0],comments:t[1]})}))},n.componentDidUpdate=function(t){if(t.article_id!==n.props.article_id){var e=[x.getArticleById(n.props.article_id),x.getCommentsByArticleId(n.props.article_id)];Promise.all(e).then((function(t){n.setState({article:t[0],comments:t[1]})}))}},n.addComment=function(t){n.setState((function(e){return{comments:[t].concat(Object(R.a)(e.comments))}}))},n}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement(O,null,"SINGLE ARTICLE CARD",r.a.createElement(k,null,r.a.createElement("h2",null,this.state.article.title),r.a.createElement("p",null,this.state.article.body),r.a.createElement(P,{type:"articles",votes:this.state.article.votes,id:this.state.article.article_id})),"COMMENTS",r.a.createElement(J,{article_id:this.state.article.article_id,addComment:this.addComment}),this.state.comments.map((function(t){return r.a.createElement(G,{key:t.comment_id,comment:t})})))}}]),e}(a.Component),q=function(){return r.a.createElement("div",null)},z=function(t){function e(){return Object(i.a)(this,e),Object(s.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"outer-container"},r.a.createElement(V,null),r.a.createElement("section",{className:"Main-area"},r.a.createElement(p.b,null,r.a.createElement(N,{path:"/"}),r.a.createElement(N,{path:"/articles/:topic_slug"}),r.a.createElement($,{path:"/article/:article_id/*"}),r.a.createElement(q,{path:"/users/*"}))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.c2fb0fbd.chunk.js.map